(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-288b1c61"],{"4ec3":function(t,e,r){"use strict";r("a481"),r("6762"),r("2fdb");var n=r("cebe"),a=r.n(n),i=r("9883"),o=r("5f72"),u=r("a7fe"),c=r("07a4");a.a.defaults.timeout=6e4,a.a.defaults.baseURL="https://star.zao7lai.top/",a.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var l=null;function s(t,e){return new Promise((function(r,n){a.a.get(t,{params:e}).then((function(t){r(t)})).catch((function(t){n(t)}))}))}function d(t,e){return new Promise((function(r,n){a.a.delete(t,{params:e}).then((function(t){r(t)})).catch((function(t){n(t)}))}))}function f(t,e){return new Promise((function(r,n){a.a.post(t,e).then((function(t){r(t)})).catch((function(t){n(t)}))}))}a.a.interceptors.request.use((function(t){return l=o.Loading.service({text:"正在加载中......",fullscreen:!0}),c.a.state.token&&(t.headers.token=c.a.state.token),t}),(function(t){return Promise.reject(t)})),a.a.interceptors.response.use((function(t){return new Promise((function(e,r){l&&l.close(),e(t.data)}))}),(function(t){if(l&&l.close(),t.response){switch(t.response.status){case 500:Object(u.a)("error","服务器内部错误");break;case 404:Object(u.a)("error","未找到远程服务器");break;case 401:Object(u.a)("warning","用户登陆过期，请重新登陆"),c.a.state.commit("COMMIT_TOKEN",""),setTimeout((function(){i.a.replace({path:"/login",query:{redirect:i.a.currentRoute.fullPath}})}),1e3);break;case 400:Object(u.a)("error","数据异常，详情请咨询聚保服务热线");break;default:Object(u.a)("error",t.response.data.message)}return Promise.reject(t)}t.message.includes("timeout")?Object(u.a)("error","请求超时，请检查互联网连接"):Object(u.a)("error","请检查网络是否已连接")})),r.d(e,"v",(function(){return p})),r.d(e,"i",(function(){return m})),r.d(e,"h",(function(){return h})),r.d(e,"j",(function(){return g})),r.d(e,"r",(function(){return _})),r.d(e,"l",(function(){return v})),r.d(e,"o",(function(){return b})),r.d(e,"m",(function(){return x})),r.d(e,"w",(function(){return y})),r.d(e,"b",(function(){return w})),r.d(e,"C",(function(){return C})),r.d(e,"y",(function(){return k})),r.d(e,"e",(function(){return S})),r.d(e,"E",(function(){return $})),r.d(e,"d",(function(){return A})),r.d(e,"u",(function(){return O})),r.d(e,"x",(function(){return T})),r.d(e,"A",(function(){return q})),r.d(e,"t",(function(){return E})),r.d(e,"n",(function(){return j})),r.d(e,"F",(function(){return P})),r.d(e,"D",(function(){return U})),r.d(e,"s",(function(){return D})),r.d(e,"z",(function(){return Y})),r.d(e,"f",(function(){return N})),r.d(e,"G",(function(){return I})),r.d(e,"g",(function(){return M})),r.d(e,"k",(function(){return z})),r.d(e,"B",(function(){return F})),r.d(e,"p",(function(){return R})),r.d(e,"a",(function(){return B})),r.d(e,"c",(function(){return J})),r.d(e,"q",(function(){return L}));var p=function(t){return f("/h5/adminlogin",t)},m=function(t){return s("/manage/group/list",t)},h=function(t){return s("/manage/merchant/find/"+t.id,t)},g=function(t){return s("/h5/getAllPatientInfo",t)},_=function(t){return s("/h5/getPatientDetail",t)},v=function(t){return s("/h5/findArticleDetail",t)},b=function(t){return s("/h5/getCourse",t)},x=function(t){return s("/h5/getAllArticle",t)},y=function(t){return f("/h5/creatArticle",t)},w=function(t){return f("/h5/delArticle",t)},C=function(t){return f("/h5/updateArticle",t)},k=function(t){return f("/h5/creatPatient",t)},S=function(t){return f("/h5/delPatient",t)},$=function(t){return f("/h5/updatePatient",t)},A=function(t){return d("/manage/merchant/del/"+t.id,t)},O=function(t){return s("/manage/merchant/list",t)},T=function(t){return f("/manage/merchant/add",t)},q=function(t){return f("/setting/set",t)},E=function(t){return s("/setting/get/swiper",t)},j=function(t){return s("/manage/merchant/clear_list",t)},P=function(t){return f("/manage/merchant/update",t)},U=function(t){return f("/manage/group/update",t)},D=function(t){return s("/manage/superior/list",t)},Y=function(t){return f("/manage/superior/add",t)},N=function(t){return d("/manage/superior/del/"+t.psd,t)},I=function(t){return s("/api/get/upload",t)},M=function(t){return s("/y_user/findAll",t)},z=function(t){return s("/statement/all",t)},F=function(t){return f("/y_user/post_yapp",t)},R=function(t){return s("/c_user/all",t)},B=function(t){return f("/c_user/creat",t)},J=function(t){return s("/c_user/del",t)},L=function(t){return s("/app_order/orderbyc",t)}},6137:function(t,e,r){"use strict";var n=r("9513");r.n(n).a},"8b03":function(t,e,r){"use strict";r.r(e);var n=r("4ec3"),a=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["10px","12px","14px","16px","18px","20px","22px","24px","26px","32px","48px"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image"],["clean"]],i={data:function(){return{quillUpdateImg:!1,type:"edit",editorOption:{placeholder:"",theme:"snow",modules:{toolbar:{container:a,handlers:{image:function(t){t?document.querySelector("#quill-upload input").click():this.quill.format("image",!1)}}}}},from_data:{articleCover:"",articleClass:"",articleCntm:"",articleNextTitle:"",articleTitle:"",articleAuthor:"",sort:99},articleOpt:[{label:"科普知识",value:0},{label:"经典病例",value:1},{label:"日常防护",value:2},{label:"术后恢复",value:3}],apiUrl:"https://star.zao7lai.top/uploads"}},mounted:function(){this.$moment().locale("zh-cn").format("YYYY-MM-DD"),this.$moment(new Date).add(-1,"days").format("YYYY-MM-DD"),this.type=this.$route.query.type,"edit"==this.type&&this.get_detail()},methods:{handleAvatarSuccess:function(t){this.from_data.articleCover=t},updateArticle:function(){var t=this;Object(n.C)(this.from_data).then((function(e){e.code&&t.$message("success",e.msg)}))},get_detail:function(){var t=this,e={id:this.$route.query.id};Object(n.l)(e).then((function(e){t.from_data=e.result.row[0]}))},post_article:function(){var t=this,e=this,r=this.from_data;""!=this.from_data.articleTitle?""!=this.from_data.articleNextTitle?""!=this.from_data.articleAuthor?""!=this.from_data.articleClass?""!=this.from_data.articleCover?Object(n.w)(r).then((function(r){e.$message("success","新增文章成功"),t.from_data={articleCover:"",articleClass:"",articleNextTitle:"",articleTitle:"",articleAuthor:"",sort:99}})):this.$message("error","请上传封面图"):this.$message("error","选择文章分类"):this.$message("error","请填写文章作者"):this.$message("error","请填写文章副标题"):this.$message("error","请填写文章标题")},onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorReady:function(t){},onEditorChange:function(t){this.from_data.articleCntm=t.html},beforeUpload:function(t,e){this.quillUpdateImg=!0},uploadSuccess:function(t,e){var r=this.$refs.myQuillEditor.quill;if(t){var n=r.getSelection().index;r.insertEmbed(n,"image",t),r.setSelection(n+1)}else _this.$message("error","插入图片失败");this.quillUpdateImg=!1},uploadError:function(t,e){this.quillUpdateImg=!1,this.$message("error","图片插入失败")}}},o=(r("6137"),r("2877")),u=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"margin-top":"3vh",overflow:"scroll"}},[r("el-row",{staticStyle:{"margin-left":"15px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{placeholder:"请输入文章标题"},model:{value:t.from_data.articleTitle,callback:function(e){t.$set(t.from_data,"articleTitle",e)},expression:"from_data.articleTitle"}},[r("template",{slot:"prepend"},[r("div",{staticStyle:{width:"80px"}},[t._v("文章标题:")])])],2)],1)],1),r("el-row",{staticStyle:{"margin-left":"15px","margin-top":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{placeholder:"请输入文章副标题"},model:{value:t.from_data.articleNextTitle,callback:function(e){t.$set(t.from_data,"articleNextTitle",e)},expression:"from_data.articleNextTitle"}},[r("template",{slot:"prepend"},[r("div",{staticStyle:{width:"80px"}},[t._v("副标题:")])])],2)],1)],1),r("el-row",{staticStyle:{"margin-top":"20px","margin-left":"15px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:2}},[r("div",{staticStyle:{height:"40px",width:"80px","line-height":"40px"}},[t._v("文章分类")])]),r("el-col",{attrs:{span:4}},[r("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"请选择分类"},model:{value:t.from_data.articleClass,callback:function(e){t.$set(t.from_data,"articleClass",e)},expression:"from_data.articleClass"}},t._l(t.articleOpt,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{placeholder:"请填写作者"},model:{value:t.from_data.articleAuthor,callback:function(e){t.$set(t.from_data,"articleAuthor",e)},expression:"from_data.articleAuthor"}},[r("template",{slot:"prepend"},[r("div",{staticStyle:{width:"40px"}},[t._v("作者:")])])],2)],1)],1),r("el-row",{staticStyle:{"margin-left":"15px","margin-top":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("el-input",{attrs:{placeholder:"排序（降序）"},model:{value:t.from_data.sort,callback:function(e){t.$set(t.from_data,"sort",e)},expression:"from_data.sort"}},[r("template",{slot:"prepend"},[r("div",{staticStyle:{width:"40px"}},[t._v("排序:")])])],2)],1)],1),r("div",[r("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:3}},[t._v("封面图： ")]),r("el-col",{attrs:{span:8}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.apiUrl,accept:"*image","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.from_data.articleCover?r("img",{staticClass:"avatar",attrs:{src:t.from_data.articleCover}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),r("div",{staticStyle:{height:"650px",width:"80%","margin-left":"15px"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.apiUrl,"show-file-list":!1,"on-success":t.uploadSuccess,"on-error":t.uploadError,"before-upload":t.beforeUpload,id:"quill-upload"}}),r("quill-editor",{ref:"myQuillEditor",staticClass:"editor",staticStyle:{height:"400px"},attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)},change:function(e){return t.onEditorChange(e)}},model:{value:t.from_data.articleCntm,callback:function(e){t.$set(t.from_data,"articleCntm",e)},expression:"from_data.articleCntm"}}),"add"==t.type?r("el-button",{staticStyle:{"margin-top":"100px"},attrs:{type:"danger"},on:{click:t.post_article}},[t._v("保存制作")]):t._e(),"edit"==t.type?r("el-button",{staticStyle:{"margin-top":"100px"},attrs:{type:"danger"},on:{click:t.updateArticle}},[t._v("保存修改")]):t._e()],1)],1)}),[],!1,null,null,null);e.default=u.exports},9513:function(t,e,r){}}]);